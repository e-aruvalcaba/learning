window.start=this;var Total,obj,canvasContenido,SCORE,OS,visibleSim,visibleVid,validar_control,validar_shift,btnAtras,btnSiguiente,btnMenu,btnEval,btnHome,btnCerrar,NombreCurso="ARCA_CONTINENTAL_TMR_ANIMATECC",termino=!1,Rutas=[],Pag=[],TRAK=[],NombreModulos=[],Modulos=[],menu_open=!1,bussy=!1,TRAKtmp=[],Evals=[],ULTIMO=null,ONLINE=!1,xmlGlosario="xml/glosario.xml",IDActual=0,URLactual=window.location,_root=window.parent,timeline=0,estadoMenu=!1,terminado=!1,LastMCVid=!1,VidLast=!1,estadoSim=!1,iOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,oportunidades=0,intentoAct=0,califMinima=0,backdoor=!1,clave_backdoor="123",clave_TerminarTema="qwe",clave_eval="asd",clave_borrar="zxc",Glosario_gpo=[],Glosario_pal=[],Glosario_desc=[],pagActual=0,numPags=0,controlAtras=!1,NumPreguntas=0,checkboxText="",controlEvalArray=0,controlIrUltimo=!1,contControlCheckbox=0,EdoBtns={btnAtras:!0,btnSiguiente:!0,btnMenu:!0,btnEval:!0,btnCerrar:!0,btnHome:!0,barra:!0},btnArray=[],libre=!1,tl=new TimelineMax,debug=!1;window.onresize=function(){debug&&(console.log("--------------------------------------"),console.log($("#menuHTML").height())),$("#menuHTML").height($("#div_contenido").height()-30),$("#temasContainer").height($("#menuHTML").height()-100),$("#barraInferior").width($("#div_contenido").width()),$("#mensajesHTML").width($("#div_contenido").width()),$("#ultimoContainer").width($("#div_contenido").width());var a=Math.max(document.documentElement.clientHeight,window.innerHeight||0);let b=a-$("#content").height();$("#content").css("margin-top",(b/2).toString()+"px")};function alertas(a,b){1===a?(b=""===b||null===b||void 0===b||b===NaN?"Actividad Completada. Presione Siguiente para continuar...":b,mostrarSiguiente(b)):2===a?(b=""===b||null===b||void 0===b||b===NaN?"Tema Completado. Presione Siguiente para continuar...":b,mostrarTemaCompletado(b)):void 0}function inicializaMensajes(){tl=new TimelineMax({repeat:0,onComplete:stopAlertas}),tl.from($("#mensajesHTML"),1,{opacity:0,left:"400px"}),tl.to($("#mensajesHTML"),1,{opacity:0,left:"400px",delay:5})}function stopAlertas(){tl.pause(),$("#alertasContainer").hasClass("siguiente")&&$("#alertasContainer").removeClass("siguiente"),$("#alertasContainer").hasClass("completado")&&$("#alertasContainer").removeClass("completado"),$("#mensajesHTML").css("display","none")}function mostrarSiguiente(a){$("#alertasContainer").addClass("siguiente"),$("#mensajesHTML").css("display","inline-block"),$("#alertasContainer").html(a),tl.restart()}function mostrarTemaCompletado(a){$("#alertasContainer").addClass("completado"),$("#mensajesHTML").css("display","inline-block"),$("#alertasContainer").html(a),tl.restart()}function populateMenu(a){let b=0;for(let c=0;c<a.Modulos.length;c++){""!==NombreModulos[c]&&null!==NombreModulos[c]&&NombreModulos[c]!==void 0&&$("#temasContainer").append("<div id='Modulo"+(c+1)+"' class='col-xs-12 tituloModulo'><div class='col-xs-1'><a\t><i class='fas fa-circle menuIconStyle'></i></a></div><div class='col-xs-8' style='color:white'><p class='reset' style='float: left; padding-top: 3px; padding-left: 0px; pointer-events:none'>"+NombreModulos[c]+"</p></div></div>");for(let d=0;d<a.Modulos[c]["Mod"+(c+1)].length;d++)id=b,$("#temasContainer").append("<div id='"+(b+1)+"' onclick='llamarTema("+b+")' onmouseover='rollover("+(b+1)+")' onmouseout='rollout("+(b+1)+")' class='col-xs-12 tituloTemaMenu'><div class='col-xs-1' style='padding-top: 8px'><a><i class='fas fa-circle menuIconStyle'></i></a></div><div class='col-xs-8' style='color:white; margin: 0px;padding-top: 7px;'><p class='reset' style='float: left; padding-top: 3px; padding-left: 0px; pointer-events:none'>"+a.Modulos[c]["Mod"+(c+1)][d]+"</p></div></div>"),b++,debug&&console.log(a.Modulos[c]["Mod"+(c+1)][d]);if(0<a.Evaluaciones.length)for(let b=0;b<a.Evaluaciones.length;b++)if(!0===a.Evaluaciones[b].Aplica&&a.Evaluaciones[b].Modulo===c+1){let d=""!==a.Evaluaciones[b].Nombre&&void 0!==a.Evaluaciones[b].Nombre&&null!==a.Evaluaciones[b].Nombre&&a.Evaluaciones[b].Nombre!==NaN?Evals[b].Nombre:"Modulo "+c+": Evaluacion",e=a.Evaluaciones[b].ID;$("#temasContainer").append("\t<div id='Evaluacion"+e+"' onclick='llamarEval("+a.Evaluaciones[b].ID+")' class='col-xs-12 tituloTemaMenu menuTemaDisabled'><div class='col-xs-1' style='padding-top: 8px'><a><i class='fas fa-circle menuIconStyle'></i></a></div><div class='col-xs-8' style='color:white; margin: 0px;padding-top: 7px;'><p class='reset' style='float: left; padding-top: 3px; padding-left: 0px; pointer-events:none'>"+d+"</p></div></div>")}}}function habilitarEvals(a){for(let b=0;b<Evals.length;b++)Evals[b].Modulo==a&&$("#Evaluacion"+(a+1)).hasClass("menuTemaDisabled")&&$("#Evaluacion"+(a+1)).removeClass("menuTemaDisabled").addClass("menuTemaDesbloqueado")}function rollover(a){$("#"+a).find("i").css("font-size","9px")}function rollout(a){$("#"+a).find("i").css("font-size","6px")}function llamarTema(a){ir(a),llamar_menuHTML()}function llamarEval(){var a=document.getElementById("Contenido");debug&&console.log("temas/"+obj.NombreEval+".html"),a.src="temas/"+obj.NombreEval+".html",terminado=!0,a.onload=function(){$("#div_contenido").fadeIn()},llamar_menuHTML()}var getBrowserInfo=function(){var a,b=navigator.userAgent,c=b.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return /trident/i.test(c[1])?(a=/\brv[ :]+(\d+)/g.exec(b)||[],"IE "+(a[1]||"")):"Chrome"===c[1]&&(a=b.match(/\b(OPR|Edge)\/(\d+)/),null!=a)?a.slice(1).join(" ").replace("OPR","Opera"):(c=c[2]?[c[1],c[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(a=b.match(/version\/(\d+)/i))&&c.splice(1,1,a[1]),c.join(" "))};debug&&(console.log("el navegador usado y la version son"),console.log(getBrowserInfo()),console.log(getBrowserInfo().split(" ")[0]));function InitApi(){debug&&console.log("------Inicializacion------"),getAPI(),IdentificarEstado(),document.getElementById("menuHTML").style.height=document.getElementById("div_contenido").style.height-30+"px",$("#menuHTML").height($("#div_contenido").height()-30),$("#ultimoContainer").width($("#div_contenido").width());let a=Math.max(document.documentElement.clientHeight,window.innerHeight||0),b=a-$("#content").height();$("#content").css("margin-top",(b/2).toString()+"px")}function IdentificarEstado(){debug&&console.log("------Identificado la Ejecucion del Curso------"),0==(URLactual+"").indexOf("http://localhost")?(leeLocal(),ONLINE=!1):0==(URLactual+"").indexOf("http")?(leeOnline(),ONLINE=!0,new_nswf_DoFSCommand("getParam","")):(leeLocal(),ONLINE=!1)}function initConfig(a){debug&&console.log("numero de modulos:"+a.Modulos.length/2);let b=a.Modulos.length,c=0;for(let b=0;b<a.Rutas.length;b++)for(var d=0;d<a.Rutas[b]["Rut"+(b+1)].length;d++)Rutas.push(a.Rutas[b]["Rut"+(b+1)][d]),c++;Total=Rutas.length,TotalArchivos=Rutas.length,debug&&(console.log("Dato de las rutas: "),console.log(Rutas),console.log("json trak es:  "+a.Trak)),initbarra(a),$("#NombreDelCurso").html(a.NombreCurso),(0<ULTIMO||0===ULTIMO&&2==TRAK[0])&&mostrarUltimo()}function llamarRetros(){}function actualizaTemasTerminados(){let a=0;for(let b=0;b<TRAK.length;b++)1<TRAK[b]&&a++;let b=a+"/"+TRAK.length;return $("#numTemasCompletados").html(b)}function actualizarProgressBar(){let a=100/TRAK.length,b=0;for(let c=0;c<TRAK.length;c++)1<TRAK[c]&&(b+=a);$("#progressBar").css("width",b+"%")}function leeLocal(){debug&&console.log("lee local");var a=leeLocalStorage();a==null||""==a?(debug&&console.log("No existe un Informacion"),obj=$.parseJSON(ConfigurationJson)):(debug&&console.log("Ya existe Informacion"),obj=$.parseJSON(a)),debug&&(console.log("Asignacion de valores"),console.log(JSON.stringify(obj))),setValues(obj),initConfig(obj),cargarPortada()}function setValues(a){ULTIMO=a.Ultimo,oportunidades=a.Evaluaciones[0].MaxIntentos,intentoAct=a.Evaluaciones[0].IntentoActual,SCORE=a.Evaluaciones[0].CalActual,califMinima=a.Evaluaciones[0].CalMinima,TRAK=a.Trak,Pag=a.Pag,libre=a.Libre,NombreModulos=a.NombreModulos,Modulos=a.Modulos,Evals=a.Evaluaciones}function setObject(){obj.Trak=TRAK,obj.Ultimo=ULTIMO,obj.Evaluaciones[0].CalActual=SCORE,obj.Evaluaciones[0].MaxIntentos=oportunidades,obj.Evaluaciones[0].IntentoActual=intentoAct,obj.Evaluaciones[0].CalMinima=califMinima,obj.Pag=Pag,obj.Libre=libre}function leeLocalStorage(){var a;try{var b=getBrowserInfo().split(" ")[0];"IE"==b?(debug&&console.log("leyendo cookie"),a=-1===document.cookie.indexOf("data=")?"":("; "+document.cookie).split("; data=")[1].split(";")[0]):(debug&&console.log("leyendo LocalStorage"),a=window.localStorage.getItem(NombreCurso))}catch(a){console.log("error al leer local storage:"+a.text)}return a}function guardaLocalStorage(a){try{var b=getBrowserInfo().split(" ")[0];if("IE"==b){debug&&console.log("se guarda en cookie");var c=new Date;c.setFullYear(c.getFullYear()+1),document.cookie="data="+JSON.stringify(a)+"; expires="+c.toGMTString()}else debug&&console.log("se guarda en LocalStorage"),window.localStorage.setItem(NombreCurso,JSON.stringify(a))}catch(a){console.log("no pudo guardar archivos en local storage:"+a.text)}}function imprimirIframe(){debug&&console.log("imprime"),window.frames.Contenido.focus(),window.frames.Contenido.print()}function leeOnline(){if(debug&&(console.log("LEE ONLINE"),console.log("regresoLMS "+regresoLMS)),regresoLMS=ComunicacionLMS("leer"),""==regresoLMS||null==regresoLMS)debug&&console.log("suspent data vacio, generando json"),obj=$.parseJSON(ConfigurationJson);else{debug&&console.log("suspend data diferente a vacio");var a=regresoLMS;obj=$.parseJSON(a)}debug&&console.log(obj),setValues(obj),initConfig(obj),cargarPortada()}function guardarDatos(){if(setObject(),ONLINE){debug&&(console.log("guardando datos online"),console.log("json-generando"));var a=JSON.stringify(obj);ComunicacionLMS("guardar",a)}else debug&&console.log("guardando datos local"),guardaLocalStorage(obj)}function limpiarContenido(){debug&&(console.log("**********************limpiarContenido"),console.log((void 0).src));var a=document.getElementById("Contenido");a.src="*"}function ir(a){menu_open&&llamar_menuHTML(),debug&&(console.log("********",ULTIMO,a,TRAK[a]),console.log("**********************IR"),console.log("ir "+a)),limpiarContenido();var b=document.getElementById("Contenido");b.src=Rutas[a],_root.IDActual=a,_root.ULTIMO=a,debug&&console.log("IDActual: ",_root.IDActual," ULTIMO: ",_root.ULTIMO),canvasContenido&&reset_navegacion(canvasContenido.timeline.position,canvasContenido.timeline.duration)}function iniciar_tema(a){try{debug&&console.log("inicio_tema",_root.IDActual),getCanvas(a),actualizarNavegacion(canvasContenido.timeline.position,canvasContenido.timeline.duration),1>TRAK[IDActual]&&(TRAK[IDActual]=1),(controlAtras||controlIrUltimo)&&(debug&&console.log("entro a control atras"),canvasContenido.gotoAndStop(Pag[IDActual]),controlAtras=!1),controlIrUltimo&&(debug&&console.log("llendo a la ultima pagina desde reset_navegacion"),canvasContenido.gotoAndStop(Pag[IDActual]),controlIrUltimo=!1),ULTIMO=IDActual,guardarDatos(),debug&&console.log("fin inicio tema")}catch(a){debug&&console.warn("Error iniciando tema: "+a)}actualizar_menuHTML(TRAK),reset_navegacion(canvasContenido.timeline.position,canvasContenido.timeline.duration)}function final_tema(){debug&&console.log("*********************FINAL TEMA",_root.IDActual),2>TRAK[IDActual]&&(TRAK[IDActual]=2),_root.ULTIMO=_root.IDActual,debug&&console.log(_root.ULTIMO,_root.IDActual,TRAK,TRAK[_root.IDActual]),habilitar_deshabilitar_btns(getBtnArray(btnSiguiente),"h","final_tema"),actualizar_menuHTML(TRAK),guardarDatos(),actualizaTemasTerminados(),actualizarProgressBar(),alertas(2,"Tema Completo. Haz Clic en Siguiente para continuar."),console.log(" Curso Completado "+cursoCompletado())}function retrasar_final_tema(a){debug&&console.log("*********************FINAL TEMA",_root.IDActual+" retrasado por "+a);"number"==typeof a||(a=0<a?a:1,setTimeout(final_tema,1e3*a))}function retrasar_habilitar_siguiente(a){debug&&console.log("-habilitar siguiente retrasado por "+a);"number"==typeof a||(a=0<a?a:1,setTimeout(habilitarSiguiente,1e3*a))}function glosarioX(){var a=document.getElementById("glosario");a.src="temas/"+obj.NombreIntro+".html";var b=document.getElementById("btnGlos");b.click()}function irUltimo(){ir(ULTIMO),cerrarUltimo()}function cerrarUltimo(){$("#ultimoContainer").css("display","none")}function mostrarUltimo(){$("#ultimoContainer").css("display","block"),TweenLite.from($("#ultimoContainer"),1,{opacity:0})}function Cierra(){$("#Palabra").hide()}window.Cargar_Sim=function(a,b,c){debug&&console.log("cargar Sim"),setEdo_botones(),this.habilitar_deshabilitar_btns(this.getBtnArray(this.btnAtras,this.btnSiguiente,this.btnCerrar),"d","Cargar_Sim"),estadoSim=!0,$("#div_contenido").hide(),$("#div_sim").fadeIn();var d=document.getElementById("sim");d.src=a,debug&&console.log("Fin cargar Sim"),LastMCVid=c,b&&(VidLast=!0)};function simFinalizada(){debug&&console.log("termina la simulacion"),canvasBarra.habilitar_cerrar()}window.cargar_video=function(a,b,c){debug&&console.log("cargar video"),setEdo_botones(),this.habilitar_deshabilitar_btns(this.getBtnArray(this.btnAtras,this.btnSiguiente,this.btnCerrar),"d","cargar_video"),LastMCVid=c,estadoSim=!0,$("#div_contenido").hide(),$("#div_vid").fadeIn();var d=document.getElementById("vid");d.src=a,d.onended=function(){debug&&console.log("finalizo? desde start "+b),this.habilitar_deshabilitar_btns(getBtnArray(this.btnCerrar),"h","Cargar_Sim"),b&&(VidLast=!0)},debug&&console.log("Fin cargar video")};function Cierra_Sim(){!1==estadoSim?llamarAlertas("Exit"):(debug&&console.log("cierra sim"),$("#div_sim").hide(),$("#div_vid").hide(),$("#div_contenido").fadeIn(),limpiarSim(),canvasBarra.habilitar_atras(),canvasBarra.cambio_cerrar(0),getEdo_botones(),VidLast&&(LastMCVid?(siguiente_verde(),final_tema()):siguiente_naranja()),LastMCVid=!1,VidLast=!1)}function checarTerminacion(){for(var a=0,b=2*TRAK.length,c=0;c<TRAK.length;c++)a+=TRAK[c];debug&&console.log("creditosMinimos: "+b+"\ncreditosActuales: "+a+""),b==a?(debug&&console.log("El curso ya fue terminado, Evaluacion Desbloqueada"),canvasBarra.habilitar_eval(),termino=!0):(!backdoor&&(debug&&console.log("un no se ve todo el curso, Evaluacion Bloqueada"),canvasBarra.deshabilitar_eval()),debug&&console.log("el backdoor esta activo, Evaluacion Desbloqueada"),canvasBarra.habilitar_eval())}function limpiarSim(){debug&&console.log("limpiarSim"),estadoSim=!1;var a=document.getElementById("sim");a.src="";var b=document.getElementById("vid");b.src=""}function getCanvas(a){debug&&console.log("Obtener Canvas"),canvasContenido=a}function llamar_menuHTML(){bussy||(menu_open?(TweenLite.to($("#menuHTML"),.5,{opacity:0,left:"-400px"}),bussy=!1,setTimeout(function(){this.menu_open=!1,$("#menuHTML").removeClass("menu-open"),$("#btnMenu").css("pointer-events","all"),TweenLite.to($("#menuHTML"),.01,{opacity:1,left:"0px"}),bussy=!1},500)):($("#menuHTML").addClass("menu-open"),TweenLite.from($("#menuHTML"),.5,{opacity:0,left:"-400px"}),this.menu_open=!0)),actualizar_menuHTML(TRAK),limpiarSim()}function llamar_Portada(){$("#div_sim").hide(),$("#div_vid").hide(),$("#div_contenido").fadeIn();var a=document.getElementById("Contenido");a.src="temas/"+obj.NombreIntro+".html",limpiarSim()}function preload(){$("#div_loader").fadeIn(),$("#div_contenido").fadeIn()}function cargarPortada(){debug&&console.log("cargar portada");var a=document.getElementById("Contenido");debug&&console.log("temas/"+obj.NombreIntro+".html"),a.src="temas/"+obj.NombreIntro+".html",$("#div_sim").hide(),$("#loader-wrapper").html(""),$("#div_vid").hide(),limpiarSim()}function actualizarMenu(){var a=0,b=0;debug&&console.log("Actualizar menu "+TRAK);for(var c=0;c<Total;c++)if(b=TRAK[c],debug&&console.log("ESTADO DE TEMAS "+TRAK[c],b),1==b?(debug&&console.log(c,1),canvasMenu.cambioEdo(c,1,!0)):2==b?(a++,debug&&console.log(c,2,a),canvasMenu.cambioEdo(c,2,!0)):(debug&&console.log("no entro a ninguno de los anteriores "+c),canvasMenu.cambioEdo(c,0,!1)),2==b&&0==TRAK[c+1]){canvasMenu.cambioEdo(c+1,0,!0);break}a>=Total&&3>oportunidades||backdoor?this.habilitar_deshabilitar_btns(getBtnArray(btnEval),"h","actualizar_menu"):(this.habilitar_deshabilitar_btns(getBtnArray(btnEval),"d","actualizar_menu"),debug&&console.log("No se ha completado el curso",a,Total,terminado))}function saltar_intro(){llamar_menu(),cargarBarra(),$("#div_contenido").hide(),0<_root.ULTIMO}window.onkeyup=function(a){17==a.keyCode&&(console.log("CONTROL UP"),validar_control=!1),16==a.keyCode&&(console.log("SHIFT UP"),validar_shift=!1)},window.onkeydown=function(a){17==a.keyCode&&(console.log("CONTROL"),validar_control=!0),16==a.keyCode&&!0==validar_control&&(console.log("SHIFT"),validar_shift=!0),32==a.keyCode&&!0==validar_control&&!0==validar_shift&&llamarAlertas("backdoor")};function validarbackdoor(){llamarAlertas("desbloqueado"),console.log("el backdoor esta:"+backdoor)}function borrarprogreso(){console.log("borrando"),obj=$.parseJSON(ConfigurationJson),setValues(obj),initConfig(obj),guardarDatos(),actualizarMenu(),cargarBarra(),llamar_menu()}function getPreguntas(){console.log("NumPreguntas desde start:"+canvasContenido.mc_eval.timeline.duration),NumPreguntas=canvasContenido.mc_eval.timeline.duration,console.log("el numero de preguntas es:"+NumPreguntas)}function initbarra(a){btnAtras=document.getElementById("btnAtras"),btnSiguiente=document.getElementById("btnSiguiente"),btnMenu=document.getElementById("btnMenu"),btnEval=document.getElementById("btnEval"),btnHome=document.getElementById("btnHome"),btnCerrar=document.getElementById("btnCerrar"),habilitar_deshabilitar_btns(getBtnArray(btnSiguiente,btnAtras),"d","initbarra"),!cursoCompletado(),actualizaTemasTerminados(),actualizarProgressBar(70),populateMenu(a),inicializaMensajes()}function home(){$("#div_contenido").fadeIn(),llamar_Portada()}function cerrar(){Cierra_Sim()}function habilitar_deshabilitar_btns(a,b,c){if("d"!==b&&"h"!==b)return void(debug&&console.error("Funcion habilitar_deshabilitar_btns:No se enviaron los parametros de habilitar o habilitar correctamente. Llamdo desde funcion: "+c));if(0==a.length)return void(debug&&console.error("Funcion habilitar_deshabilitar_btns:Se enviaron 0 elementos en el array de botones. Llamdo desde funcion: "+c));name="disabledButton";for(let d=0;d<a.length;d++)"d"===b?$("#"+a[d].id.toString()).addClass(name):$("#"+a[d].id.toString()).removeClass(name);actualizarEdoBotones(),debug&&console.log("Nuevo edo de botones: "),debug&&console.log(this.EdoBtns)}function habilitarSiguiente(){habilitar_deshabilitar_btns(getBtnArray(btnSiguiente),"h","habilitarSiguiente"),alertas(1,"Da clic en siguiente para continuar.")}function habilitarAtras(){habilitar_deshabilitar_btns(getBtnArray(btnAtras),"h","habilitarAtras")}function actualizarEdoBotones(){this.EdoBtns.btnAtras=!(0<=this.btnAtras.className.indexOf("disabledButton")),this.EdoBtns.btnSiguiente=!(0<=this.btnSiguiente.className.indexOf("disabledButton")),this.EdoBtns.btnMenu=!(0<=this.btnMenu.className.indexOf("disabledButton"))}function getBtnArray(a,b,c,d,e,f){let g=[a,b,c,d,e,f];this.btnArray=[];for(let h=0;5>h;h++)null!=g[h]&&null!=g[h]&&this.btnArray.push(g[h]);return this.btnArray}function bloquear_barra(a){switch(a){case"d":if(!1===this.EdoBtns.barra)return;habilitar_deshabilitar_btns(getBtnArray(this.btnAtras,this.btnSiguiente,this.btnEval,this.btnHome,this.btnCerrar,this.btnMenu),a,"bloquear_barra"),this.EdoBtns.barra=!1;break;case"h":if(!0===this.EdoBtns.barra)return;habilitar_deshabilitar_btns(getBtnArray(this.btnAtras,this.btnSiguiente,this.btnEval,this.btnHome,this.btnCerrar,this.btnMenu),a,"bloquear_barra"),this.EdoBtns.barra=!1,this.EdoBtns.barra=!0;break;default:return void(debug&&console.warn("El parametro de entrada para bloquear/Desbloquer barra es incorrecto, solo se acepta 'd' para deshabilitar o 'h' para habilitar."));}}function habilitar_deshabilitar_eval(a){switch(this.libre&&habilitar_deshabilitar_btns(getBtnArray(btnEval),"d","habilitar_deshabilitar_eval"),a){case"d":if(!1===this.EdoBtns.btnEval)return;habilitar_deshabilitar_btns(getBtnArray(btnEval),"d","habilitar_deshabilitar_eval");break;case"d":if(!0===this.EdoBtns.btnEval)return;habilitar_deshabilitar_btns(getBtnArray(btnEval),"h","habilitar_deshabilitar_eval");break;default:}}function siguiente_frame(){$("#div_sim").show()&&($("#div_sim").hide(),limpiarSim()),pagActual<numPags-1?paginaSiguiente():siguienteTema(),reset_navegacion(canvasContenido.timeline.position,canvasContenido.timeline.duration)}function anterior_frame(){$("#div_sim").hide(),limpiarSim(),debug&&console.log("Funcion Siguiente(); "+estadoSim),0<pagActual?canvasContenido.gotoAndStop(pagActual-1):0<IDActual&&temaAnterior(),reset_navegacion(canvasContenido.timeline.position,canvasContenido.timeline.duration)}function paginaSiguiente(){pagActual+=1,canvasContenido.gotoAndStop(pagActual),guardarDatos(),reset_navegacion(canvasContenido.timeline.position,canvasContenido.timeline.duration)}function paginaAnterior(){this.libre&&this.habilitar_deshabilitar_btns(getBtnArray(this.btnAtras,btnSiguiente),"h","paginaAnterior"),0==pagActual-1&&0===IDActual&&this.habilitar_deshabilitar_btns(getBtnArray(this.btnAtras),"d","paginaAnterior"),pagActual-=1,canvasContenido.gotoAndStop(pagActual),reset_navegacion(canvasContenido.timeline.position,canvasContenido.timeline.duration)}function siguienteTema(){ir(_root.IDActual+1)}function temaAnterior(){ir(IDActual-1),controlAtras=!0}function actualizarNavegacion(a,b){pagActual=a,numPags=b}function reset_navegacion(a,b){console.log("reset navegacion"),stopAlertas(),pagActual=a,numPags=b,this.habilitar_deshabilitar_btns(getBtnArray(this.btnSiguiente),"d","reset_navegacion"),0==pagActual&&0==IDActual?this.habilitar_deshabilitar_btns(getBtnArray(this.btnAtras),"d","reset_navegacion"):this.habilitar_deshabilitar_btns(getBtnArray(this.btnAtras),"h","reset_navegacion"),(ULTIMO>IDActual||Pag[IDActual]>a)&&this.habilitar_deshabilitar_btns(getBtnArray(this.btnSiguiente),"h","reset_navegacion"),backdoor&&this.habilitar_deshabilitar_btns(getBtnArray(this.btnAtras,this.btnSiguiente),"h","reset_navegacion"),Pag[IDActual]<a&&(Pag[IDActual]=a),guardarDatos()}function cursoCompletado(){let a=!0;for(let b=0;b<this.TRAK.length;b++)if(2>TRAK[b]){a=!1;break}return a}function actualizar_menuHTML(a){function b(a){a.removeClass("menuTemaDisabled"),a.addClass("menuTemaDesbloqueado")}function c(a){a.addClass("menuTemaDisabled")}function d(a,b){let c=a.find("i");switch(b){case 0:break;case 1:c.removeClass("menuIconStyle").addClass("menuIconStyleIniciado");break;case 2:c.removeClass("menuIconStyleIniciado").addClass("menuIconStyleCompletado");}}function e(a){let b=[],c=g(a),e=f(c);for(let c=e.inicio;c<e.final;c++)b.push(TRAK[c]);-1===b.indexOf(0)&&-1===b.indexOf(1)?(debug&&console.log("Modulo Completado Marcando estado completado"),d($("#Modulo"+c),2),habilitarEvals(c)):(-1!==b.indexOf(1)||-1!==b.indexOf(2))&&d($("#Modulo"+c),1),b=[]}function f(a){let b=0;for(let c=0;c<=a-1;c++)b+=obj.Modulos[c]["Mod"+(c+1)].length;let c=[b,obj.Modulos[a-1]["Mod"+a].length],d={inicio:b-obj.Modulos[a-1]["Mod"+a].length,final:b,nModulo:a};return d}function g(a){let b=0,c=1;for(let d=1;d<=Modulos.length;d++)if(b+=Modulos[d-1]["Mod"+d].length,a>=b-Modulos[d-1]["Mod"+d].length&&a<b){c=d;break}return c}for(let f=0;f<a.length;f++){var h=$("#"+f).find("i"),j=$("#"+(f+1));d(j,a[f]),0<f&&2<=a[f-1]?(debug&&console.log("desbloqueo Tema: "+f),b(j)):0<f&&(debug&&console.log("tema +"+f+"bloqueado"),c(j)),e(f)}}